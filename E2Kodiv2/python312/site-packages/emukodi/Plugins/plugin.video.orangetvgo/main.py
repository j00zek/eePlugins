# -*- coding: UTF-8 -*-

# orginalne, off by me
#from resources.lib.orange import OrangeGo
#if __name__ == '__main__':
#    OrangeGo()

import sys
import e2kodi__init__ 
import xbmcaddon
from urllib.parse import parse_qsl

from resources.lib.orange import *

base_url = sys.argv[0]
addon_handle = int(sys.argv[1])
params = dict(parse_qsl(sys.argv[2][1:]))
addon = xbmcaddon.Addon(id='plugin.video.orangetvgo')

if __name__ == '__main__':
    if params == {}:
        mode = sys.argv[2].replace('plugin.video.orangetvgo','').strip()
        if mode.startswith('/'):
            mode = mode[1:]
    else:
        mode = params.get('mode', None)

    if not mode or mode == '' or mode == '/':
        root()
    elif mode == 'empty/':
        empty()
    elif mode.startswith('resetSession/'):
        id = mode[len('resetSession/'):]
        resetSession(id)
    elif mode == 'listtv':
        listtv()
    elif mode.startswith('listkeczup/'):
        id = mode[len('listkeczup/'):]
        listkeczup(id)
    elif mode.startswith('listekczup2/'):
        idts = mode[len('listekczup2/'):]
        listekczup2(idts)
    elif mode.startswith('playtv/'):
        id = mode[len('playtv/'):]
        playtv(id)
    elif mode == 'listvodcat':
        listvodcat()
    elif mode.startswith('listcontent/'):
        idt = mode[len('listcontent/'):]
        listcontent(idt)
    elif mode.startswith('playvid/'):
        id = mode[len('playvid/'):]
        playvid(id)
    elif mode.startswith('listsubdir/'):
        jsdata = mode[len('listsubdir/'):]
        listsubdir(jsdata)
    elif mode.startswith('listvodsubcat/'):
        url = mode[len('listvodsubcat/'):]
        listvodsubcat(url)
    elif mode == 'loguj':
        loguj()
    elif mode == 'logout':
        logout()
    elif mode == 'listM3U':
        listM3U()
    else:
        print('mode =',mode)
